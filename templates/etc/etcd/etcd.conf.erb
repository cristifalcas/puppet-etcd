#[member]
ETCD_NAME="<%= scope['etcd::etcd_name'] %>"
ETCD_DATA_DIR="<%= scope['etcd::data_dir'] %>"
ETCD_WAL_DIR="<%= scope['etcd::wal_dir'] %>"
ETCD_SNAPSHOT_COUNTER="<%= scope['etcd::snapshot_counter'] %>"
ETCD_HEARTBEAT_INTERVAL="<%= scope['etcd::heartbeat_interval'] %>"
ETCD_ELECTION_TIMEOUT="<%= scope['etcd::election_timeout'] %>"
ETCD_LISTEN_CLIENT_URLS="<%= Array(scope['etcd::listen_client_urls']).join(',') %>"
ETCD_ADVERTISE_CLIENT_URLS="<%= Array(scope['etcd::advertise_client_urls']).join(',') %>"
ETCD_MAX_SNAPSHOTS="<%= scope['etcd::max_snapshots'] %>"
ETCD_MAX_WALS="<%= scope['etcd::max_wals'] %>"
<% if @cors then -%>ETCD_CORS="<%= scope['etcd::cors'] %>"
<% end -%>
#
<% if @real_proxy and @real_proxy != 'off' then -%>
#[proxy]
ETCD_PROXY="<%= scope['etcd::real_proxy'] %>"
ETCD_PROXY_FAILURE_WAIT="<%= scope['etcd::proxy_failure_wait'] %>"
ETCD_PROXY_REFRESH_INTERVAL="<%= scope['etcd::proxy_refresh_interval'] %>"
ETCD_PROXY_DIAL_TIMEOUT="<%= scope['etcd::proxy_dial_timeout'] %>"
ETCD_PROXY_WRITE_TIMEOUT="<%= scope['etcd::proxy_write_timeout'] %>"
ETCD_PROXY_READ_TIMEOUT="<%= scope['etcd::proxy_read_timeout'] %>"
#
<% end -%>
#[cluster]
ETCD_LISTEN_PEER_URLS="<%= Array(scope['etcd::listen_peer_urls']).join(',') %>"
ETCD_INITIAL_ADVERTISE_PEER_URLS="<%= Array(scope['etcd::initial_advertise_peer_urls']).join(',') %>"
ETCD_INITIAL_CLUSTER="<%= Array(scope['etcd::initial_cluster']).join(',') %>"
ETCD_INITIAL_CLUSTER_STATE="<%= scope['etcd::initial_cluster_state'] %>"
ETCD_INITIAL_CLUSTER_TOKEN="<%= scope['etcd::initial_cluster_token'] %>"
<% if @discovery then -%>ETCD_DISCOVERY="<%= scope['etcd::discovery'] %>"
<% end -%>
<% if @discovery_srv then -%>ETCD_DISCOVERY_SRV="<%= scope['etcd::discovery_srv'] %>"
<% end -%>
ETCD_DISCOVERY_FALLBACK="<%= scope['etcd::discovery_fallback'] %>"
<% if @discovery_proxy then -%>ETCD_DISCOVERY_PROXY="<%= scope['etcd::discovery_proxy'] %>"
<% end -%>
ETCD_STRICT_RECONFIG_CHECK=<%= scope['etcd::strict_reconfig_check'] %>
#
#[security]
<% if @cert_file then -%>ETCD_CERT_FILE="<%= scope['etcd::cert_file'] %>"
<% end -%>
<% if @key_file then -%>ETCD_KEY_FILE="<%= scope['etcd::key_file'] %>"
<% end -%>
ETCD_CLIENT_CERT_AUTH=<%= scope['etcd::client_cert_auth'] %>
<% if @trusted_ca_file then -%>ETCD_TRUSTED_CA_FILE="<%= scope['etcd::trusted_ca_file'] %>"
<% end -%>
<% if @peer_cert_file then -%>ETCD_PEER_CERT_FILE="<%= scope['etcd::peer_cert_file'] %>"
<% end -%>
<% if @peer_key_file then -%>ETCD_PEER_KEY_FILE="<%= scope['etcd::peer_key_file'] %>"
<% end -%>
ETCD_PEER_CLIENT_CERT_AUTH=<%= scope['etcd::peer_client_cert_auth'] %>
<% if @peer_trusted_ca_file then -%>ETCD_PEER_TRUSTED_CA_FILE="<%= scope['etcd::peer_trusted_ca_file'] %>"
<% end -%>
#
#[logging]
ETCD_DEBUG=<%= scope['etcd::debug'] %>
<% if @log_package_levels then -%>ETCD_LOG_PACKAGE_LEVELS="<%= scope['etcd::log_package_levels'] %>"
<% end -%>
